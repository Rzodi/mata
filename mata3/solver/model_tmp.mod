param U_count, integer, >= 0;
param ENB_count, integer, >=0;
param wifi_count, integer, >=0;
param M, default 10**20;


set U, default {1..U_count};
set ENB, default {1..ENB_count};
set wifi, default {1..wifi_count};

/* Requirements */
param Alpha{u in U, e in ENB}, >= 0; # zmienna wartość w zależności od odległości od ENB im dalej ten ten współczynnik jest większy mówi ile potrzebujemy resource bloków żeby przesłać dane z prędkością X
param Beta{u in U, e in ENB} >= 0; # stała wartość resource bloków potrzebnych do wysłania czegoś w LTE per jedno enb per użytkownik
param Gamma{u in U, w in wifi} >= 0;  # procent 1 sekundy potrzebny do wysłania danych z prędkością X [Kb/s]
param Delta{u in U } >= 0, integer;   # minimalne wymaganie użytkownika [Kb/s]
param Delta_2{u in U} >= 0, integer; # maksymalne wymaganie użytkownika [Kb/s]
param Omega{e in ENB} >= 0, integer, default 25; #ilość resource bloków per enb 

 

/* Decision variables */
var X{u in U, e in ENB} >= 0; #przepustowość po ENB dla użytkownika u
var Y{u in U, w in wifi} >= 0; #przepustowość po wifi dla użytkownika u
var Z{u in U, e in ENB}, binary; #zmienna binarna równa jeden gdy X[u,e] > 0 
var Z_wifi{u in U, w in wifi}, binary; #zmienna binarna równa jeden gdy Y[u,e] > 0 

/* Objective function 'z' */
maximize f: sum{u in U} (sum{e in ENB} (X[u,e])+ sum{w in wifi} (Y[u,w]));

/* Constraints */

s.t. c1{e in ENB} : sum{u in U} ((Alpha[u,e]*X[u,e])+(Beta[u,e]*Z[u,e])), <= Omega[e];

s.t. c2{w in wifi} : sum{u in U} (Gamma[u,w]*Y[u,w]), <= 1;

s.t. c3{u in U} : Delta_2[u], >= sum{e in ENB}(X[u,e]) + sum{w in wifi}(Y[u,w]), >= Delta[u];
 
s.t. c4{u in U, e in ENB}: X[u,e], <= Z[u,e]*M;

s.t. c5{u in U, w in wifi}: Y[u,w] , <= Z_wifi[u,w]*M;

s.t. c6{u in U, e in ENB, w in wifi}: Delta_2[u], >=  X[u,e], >= 0; 

s.t. c7{u in U, e in ENB, w in wifi}: Delta_2[u], >=  Y[u,w], >= 0;

s.t. c8{u in U} : sum{e in ENB} (Z[u,e]),  <= 1;

s.t. c9{u in U} : sum{w in wifi} (Z_wifi[u,w]), <= 1;

s.t. c10{u in U, e in ENB : Alpha[u,e] > Omega[e]} : X[u,e] = 0; 

s.t. c11{u in U, w in wifi : Gamma[u,w] > 1} : Y[u,w] = 0; 


/* Input data */
data;


param U_count := 10;
param ENB_count := 12;
param wifi_count := 15;

param : Alpha :=
 1,1     0.0001
 1,2     0.0002
 1,3     0.0003
 1,4     0.0004
 1,5     0.0005
 1,6     0.0006
 1,7     0.0007
 1,8     0.0008
 1,9     0.0009
 1,10     0.001
 1,11     0.0011
 1,12     0.0012
 2,1     0.0001
 2,2     0.0003
 2,3     0.0005
 2,4     0.0007
 2,5     0.0009
 2,6     0.0011
 2,7     0.0013
 2,8     0.0015
 2,9     0.0017
 2,10     0.0019
 2,11     0.0021
 2,12     0.0023
 3,1     0.0001
 3,2     0.0004
 3,3     0.0007
 3,4     0.001
 3,5     0.0013
 3,6     0.0016
 3,7     0.0019
 3,8     0.0022
 3,9     0.0025
 3,10     0.0028
 3,11     0.0031
 3,12     0.0034
 4,1     0.0001
 4,2     0.0005
 4,3     0.0009
 4,4     0.0013
 4,5     0.0017
 4,6     0.0021
 4,7     0.0025
 4,8     0.0029
 4,9     0.0033
 4,10     0.0037
 4,11     0.0041
 4,12     0.0045
 5,1     0.0001
 5,2     0.0006
 5,3     0.0011
 5,4     0.0016
 5,5     0.0021
 5,6     0.0026
 5,7     0.0031
 5,8     0.0036
 5,9     0.0041
 5,10     0.0046
 5,11     0.0051
 5,12     0.0056
 6,1     0.0001
 6,2     0.0007
 6,3     0.0013
 6,4     0.0019
 6,5     0.0025
 6,6     0.0031
 6,7     0.0037
 6,8     0.0043
 6,9     0.0049
 6,10     0.0055
 6,11     0.0061
 6,12     0.0067
 7,1     0.0001
 7,2     0.0008
 7,3     0.0015
 7,4     0.0022
 7,5     0.0029
 7,6     0.0036
 7,7     0.0043
 7,8     0.005
 7,9     0.0057
 7,10     0.0064
 7,11     0.0071
 7,12     0.0078
 8,1     0.0001
 8,2     0.0009
 8,3     0.0017
 8,4     0.0025
 8,5     0.0033
 8,6     0.0041
 8,7     0.0049
 8,8     0.0057
 8,9     0.0065
 8,10     0.0073
 8,11     0.0081
 8,12     0.0089
 9,1     0.0001
 9,2     0.001
 9,3     0.0019
 9,4     0.0028
 9,5     0.0037
 9,6     0.0046
 9,7     0.0055
 9,8     0.0064
 9,9     0.0073
 9,10     0.0082
 9,11     0.0091
 9,12     0.01
 10,1     0.0001
 10,2     0.0011
 10,3     0.0021
 10,4     0.0031
 10,5     0.0041
 10,6     0.0051
 10,7     0.0061
 10,8     0.0071
 10,9     0.0081
 10,10     0.0091
 10,11     0.0101
 10,12     0.0111
;
param : Beta :=
 1,1     5
 1,2     5
 1,3     5
 1,4     5
 1,5     5
 1,6     5
 1,7     5
 1,8     5
 1,9     5
 1,10     5
 1,11     5
 1,12     5
 2,1     5
 2,2     5
 2,3     5
 2,4     5
 2,5     5
 2,6     5
 2,7     5
 2,8     5
 2,9     5
 2,10     5
 2,11     5
 2,12     5
 3,1     5
 3,2     5
 3,3     5
 3,4     5
 3,5     5
 3,6     5
 3,7     5
 3,8     5
 3,9     5
 3,10     5
 3,11     5
 3,12     5
 4,1     5
 4,2     5
 4,3     5
 4,4     5
 4,5     5
 4,6     5
 4,7     5
 4,8     5
 4,9     5
 4,10     5
 4,11     5
 4,12     5
 5,1     5
 5,2     5
 5,3     5
 5,4     5
 5,5     5
 5,6     5
 5,7     5
 5,8     5
 5,9     5
 5,10     5
 5,11     5
 5,12     5
 6,1     5
 6,2     5
 6,3     5
 6,4     5
 6,5     5
 6,6     5
 6,7     5
 6,8     5
 6,9     5
 6,10     5
 6,11     5
 6,12     5
 7,1     5
 7,2     5
 7,3     5
 7,4     5
 7,5     5
 7,6     5
 7,7     5
 7,8     5
 7,9     5
 7,10     5
 7,11     5
 7,12     5
 8,1     5
 8,2     5
 8,3     5
 8,4     5
 8,5     5
 8,6     5
 8,7     5
 8,8     5
 8,9     5
 8,10     5
 8,11     5
 8,12     5
 9,1     5
 9,2     5
 9,3     5
 9,4     5
 9,5     5
 9,6     5
 9,7     5
 9,8     5
 9,9     5
 9,10     5
 9,11     5
 9,12     5
 10,1     5
 10,2     5
 10,3     5
 10,4     5
 10,5     5
 10,6     5
 10,7     5
 10,8     5
 10,9     5
 10,10     5
 10,11     5
 10,12     5
;
param : Gamma :=
 1,1     0.0001
 1,2     0.0111
 1,3     0.0221
 1,4     0.0331
 1,5     0.0441
 1,6     0.0551
 1,7     0.0661
 1,8     0.0771
 1,9     0.0881
 1,10     0.0991
 1,11     0.1101
 1,12     0.1211
 1,13     0.1321
 1,14     0.1431
 1,15     0.1541
 2,1     0.0001
 2,2     0.0121
 2,3     0.0241
 2,4     0.0361
 2,5     0.0481
 2,6     0.0601
 2,7     0.0721
 2,8     0.0841
 2,9     0.0961
 2,10     0.1081
 2,11     0.1201
 2,12     0.1321
 2,13     0.1441
 2,14     0.1561
 2,15     0.1681
 3,1     0.0001
 3,2     0.0131
 3,3     0.0261
 3,4     0.0391
 3,5     0.0521
 3,6     0.0651
 3,7     0.0781
 3,8     0.0911
 3,9     0.1041
 3,10     0.1171
 3,11     0.1301
 3,12     0.1431
 3,13     0.1561
 3,14     0.1691
 3,15     0.1821
 4,1     0.0001
 4,2     0.0141
 4,3     0.0281
 4,4     0.0421
 4,5     0.0561
 4,6     0.0701
 4,7     0.0841
 4,8     0.0981
 4,9     0.1121
 4,10     0.1261
 4,11     0.1401
 4,12     0.1541
 4,13     0.1681
 4,14     0.1821
 4,15     0.1961
 5,1     0.0001
 5,2     0.0151
 5,3     0.0301
 5,4     0.0451
 5,5     0.0601
 5,6     0.0751
 5,7     0.0901
 5,8     0.1051
 5,9     0.1201
 5,10     0.1351
 5,11     0.1501
 5,12     0.1651
 5,13     0.1801
 5,14     0.1951
 5,15     0.2101
 6,1     0.0001
 6,2     0.0161
 6,3     0.0321
 6,4     0.0481
 6,5     0.0641
 6,6     0.0801
 6,7     0.0961
 6,8     0.1121
 6,9     0.1281
 6,10     0.1441
 6,11     0.1601
 6,12     0.1761
 6,13     0.1921
 6,14     0.2081
 6,15     0.2241
 7,1     0.0001
 7,2     0.0171
 7,3     0.0341
 7,4     0.0511
 7,5     0.0681
 7,6     0.0851
 7,7     0.1021
 7,8     0.1191
 7,9     0.1361
 7,10     0.1531
 7,11     0.1701
 7,12     0.1871
 7,13     0.2041
 7,14     0.2211
 7,15     0.2381
 8,1     0.0001
 8,2     0.0181
 8,3     0.0361
 8,4     0.0541
 8,5     0.0721
 8,6     0.0901
 8,7     0.1081
 8,8     0.1261
 8,9     0.1441
 8,10     0.1621
 8,11     0.1801
 8,12     0.1981
 8,13     0.2161
 8,14     0.2341
 8,15     0.2521
 9,1     0.0001
 9,2     0.0191
 9,3     0.0381
 9,4     0.0571
 9,5     0.0761
 9,6     0.0951
 9,7     0.1141
 9,8     0.1331
 9,9     0.1521
 9,10     0.1711
 9,11     0.1901
 9,12     0.2091
 9,13     0.2281
 9,14     0.2471
 9,15     0.2661
 10,1     0.0001
 10,2     0.0201
 10,3     0.0401
 10,4     0.0601
 10,5     0.0801
 10,6     0.1001
 10,7     0.1201
 10,8     0.1401
 10,9     0.1601
 10,10     0.1801
 10,11     0.2001
 10,12     0.2201
 10,13     0.2401
 10,14     0.2601
 10,15     0.2801
;
param : Delta  :=
 1     117
 2     4391
 3     1940
 4     269
 5     6300
 6     4596
 7     3052
 8     6814
 9     2615
 10     3564
;
param : Delta_2  :=
 1     2383
 2     6386
 3     3277
 4     1415
 5     7293
 6     6835
 7     4386
 8     9992
 9     2649
 10     4421
;
end;
